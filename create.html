<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Site Title Here</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
		<link rel="shortcut icon" type="image/x-icon" href="#">
        <!-- Place favicon.ico in the root directory -->
        
		<!-- CSS here -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="assets/css/style.css"> 
    </head>
    <body>

       
    <!-- header-area START -->
    <div class="header-area">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="logo-area">
                        <a href="/"><img src="assets/img/logo.jpg" alt=""> Fake Id Details</a>
                    </div>
                </div> 
            </div>
        </div>
    </div> 
    <!-- header-area END -->

    <!-- Linksarea START -->
    <section class="linkarea">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <form class="CreateNowLink">
                        <input type="text" name="search" placeholder="Hot,money,time" autocomplete="off">
                        <button type="submit">Search</button>
                    </form> 
                    <div class="row results">
                        
                    </div> 
                </div> 
            </div>
        </div>
    </section>
    <!-- Linksarea END -->





    
		<!-- JS here --> 
        <script src="assets/js/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> 
        <script src="assets/js/main.js"></script>
        <script>
            //checkout superhi - made during their course
const formTag = document.querySelector("form")
const inputTag = formTag.querySelector("input")
const resultsTag = document.querySelector(".results")

const apiUrl = "https://api.unsplash.com/search/photos?per_page=24&query="
 
 const searchUnsplash = function(term) {
   return fetch(apiUrl + term, {
     method: "GET",
     headers: {
       "Authorization": "Client-ID 1ff567feea79565eafd82a37c3e34e5dacdbb411a117a9bec0bc20ffbd1a8612"
     		}
   		})
   	.then(response => response.json())
   		.then(data => {
//      		console.log(data)
     		//format unsplash results to suit our needs 
     		return data.results.map(result => {
          return {
            imageSrc: result.urls.regular, 
            width: result.width,
            height: result.height, 
            title: (result.description || "Untitled"),
            name: result.user.name,
          }
        })
  	 	})
 	}
 
 //add results to page 
 const addResults = function (results) {
   	//remove all loading tags 
   		resultsTag.innerHTML = ""
   
   //loop over each indiv result and add to resultsTag
   		results.forEach(result => {
        resultsTag.innerHTML = resultsTag.innerHTML + `
					<div class="col-lg-4">
						<div class="image" style="background-color: ${result.backgroundColor}">
							<a href="/create/this/${result.imageSrc}"><img src= "${result.imageSrc}"></a>
							<a class="button" href="/create/this/${result.imageSrc}">Create</a>
						</div>	 
					</div>
				`
      })
 }
 
 		//when we submit the form, get the info from input
 formTag.addEventListener("submit", function(event){
   
   //get info from input
   const searchTerm = inputTag.value
   
   
   searchUnsplash(searchTerm)
     .then(results => {
     		addResults(results)
   		})
   
   // stop the form from going to the usual next page 
   event.preventDefault()
   
 })
 searchUnsplash('Money')
     .then(results => {
     		addResults(results)
   		})
        </script>
    </body>
</html>